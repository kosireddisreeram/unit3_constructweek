<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hand Wash</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Noto+Sans&family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="./bathprod.css">
</head>

<body>
    <div id="bathHeader">
        <h1>Hand Wash</h1>
        <img src="https://cdn.shopify.com/s/files/1/1375/4957/files/1920x512_14_ff73d8b3-11a7-4a24-bf8c-5705964f7f17.jpg?v=1647521885"
            alt="">
    </div>

    <div id="sortDiv">
        <select id="sorter">
            <option value="">Sort By</option>
            <option value="l2h">Price, Low To High</option>
            <option value="h2l">Price, High To Low</option>
            <option value="rl2h">Rating, Low To High</option>
            <option value="rh2l">Rating, High To Low</option>
            <option value="a2z">Alphabetically, A To Z</option>
            <option value="z2a">Alphabetically, Z To A</option>
        </select>
    </div>

    <div id="bathDiv"></div>
</body>

</html>
<script type="module">
    var bathProducts = [
        { "name": "Fresh Aqua Hydrating Handwash - 20 Seconds - No Sulphate, Parabens, Silicones, Color & Triclosan - 500 ml", "price": "140", "ratings": "5.0", "image": "https://cdn.shopify.com/s/files/1/1375/4957/products/Handwash-Aqua-1_1280x.jpg?v=1647839529" }, { "name": "Aloe, Lemon & ACV Handwash - 20 Seconds - No Sulphate, Parabens, Silicones, Color & Triclosan - 500 ml", "price": "140", "ratings": "4.9", "image": "https://cdn.shopify.com/s/files/1/1375/4957/products/hand-wash-500-3_1024X1024_7151bd83-b4ff-4e6d-874c-7d9470246d75_1280x.jpg?v=1606301356" }, { "name": "Coconut Milk Moisturizing Handwash - 500 ml", "price": "140", "ratings": "4.7", "image": "https://cdn.shopify.com/s/files/1/1375/4957/products/Handwash-Coconut-1_1280x.jpg?v=1647839473" }, { "name": "Argan Oil Replenishing Handwash - 20 Seconds - No Sulphate, Parabens, Silicones, Color & Triclosan - 500 ml", "price": "140", "ratings": "4.5", "image": "https://cdn.shopify.com/s/files/1/1375/4957/products/Handwash-Argan-1_1280x.jpg?v=1647839381" }
    ];

    var bathDiv = document.getElementById("bathDiv");

    import appendProduct from './bathprod.js';
    appendProduct(bathProducts);

    document.querySelector("#sorter").addEventListener("click", sortByPrice);
    function sortByPrice() {
        bathProducts.map(function (elem) {
            var sorting = document.querySelector("#sorter").value;
            console.log(sorting);
            if (sorting == "l2h") {
                bathProducts.sort(function (a, b) { return a.price - b.price })
                appendProduct(bathProducts)
            }
            else if (sorting == "h2l") {
                bathProducts.sort(function (a, b) { return b.price - a.price })
                appendProduct(bathProducts)
            }
            else if (sorting == "rl2h") {
                bathProducts.sort(function (a, b) { return a.ratings - b.ratings })
                appendProduct(bathProducts)
            }
            else if (sorting == "rh2l") {
                bathProducts.sort(function (a, b) { return b.ratings - a.ratings })
                appendProduct(bathProducts)
            }
            else if (sorting == "a2z") {
                function SortArray(x, y) {
                    if (x.name < y.name) { return -1; }
                    if (x.name > y.name) { return 1; }
                    return 0;
                }
                var s = bathProducts.sort(SortArray)
                appendProduct(s)
            }
            else if (sorting == "z2a") {
                function SortArray(x, y) {
                    if (x.name > y.name) { return -1; }
                    if (x.name < y.name) { return 1; }
                    return 0;
                }
                var s = bathProducts.sort(SortArray)
                appendProduct(s)
            }
        })
    }
</script>