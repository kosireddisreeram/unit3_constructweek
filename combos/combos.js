var wowProducts=

[{"name":"Onion Oil Hair Care Ultimate 4 Kit for Hair Fall(Shampoo + Hair Conditioner + Hair Oil + Hair Mask) - 1000 ml","price":"1499","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/B07Z82NTXC.MAIN_1280x.jpg?v=1577352359"},
{"name":"Red Onion Black Seed Oil Shampoo & Conditioner Kit With Red Onion Seed Oil Extract, Black Seed Oil & Pro-Vitamin B5 (Shampoo + Conditioner) - 600 ml","price":"799","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/onion_2-min_afb6a195-d0fa-4908-bcb4-d8e27b63c7e5_1280x.jpg?v=1594896786"},
{"name":"Vitamin C Face Ultimate 3 Kit for Skin Brightening","price":"1399","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/vitaminccombo_1024x1024_1024x1024_1024x1024_20ccc6d4-93c4-4a92-8162-eb5a8e435f9e_1280x.jpg?v=1626442669"},
{"name":"Skin Science Apple Cider Vinegar Shampoo +  Hair Conditioner = WOWSOME TWOSOME Hair Care Package - 600mL - BuyWow Apple Cider Vinegar Shampoo + Hair Conditioner = WOWSOME TWOSOME Hair Care Package - 600mL","price":"799","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/img_7_1280x.jpg?v=1598269764"},
{"name":"Apple Cider Vinegar Shampoo - 300 ml with 99% Pure Aloe Vera Gel - 130 ml","price":"749","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/img_3_1280x.jpg?v=1595022324"},
{"name":"Onion Oil + Shampoo - Net Vol. 500 ml","price":"849","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/Oion-Oil-_-Shampoo-copy_1280x.jpg?v=1628595362"},
{"name":"Ultimate Onion Hair Restoration Kit (Onion Oil + Onion Shampoo + Onion Mask) Ultimate Onion Hair Restoration Kit (Onion Oil + Onion Shampoo + Onion Mask)","price":"1199","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/4_fb49aa71-5bc4-4cf9-8e61-adb953a91d7c_1280x.jpg?v=1579781503"},
{"name":"Moroccan Argan Oil Foaming Face Wash + Retinol Face Serum - Net Vol 180 ml","price":"998","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/front_f9425de0-fc80-4a95-823b-1cdd40b648ea_1280x.jpg?v=1634906728"},
{"name":"Revitalizing Aloe Kit - Peel Off Gel Mask + Face Wash + Soothing Gel + Sleeping Pack","price":"799","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/aloe-vera_1_1280x.jpg?v=1579781470"},
{"name":"Himalayan Rose 3 Kit (Shampoo + Conditioner + Hair Mask) - Net Vol. 800 ml","price":"799","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/comob_3-front_1280x.jpg?v=1637843927"},
{"name":"Kids Flash Combo 3 kit (3 in 1 Wash + Body Lotion + Face Wash) - Net Vol. 700 ml","price":"1197","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_FLASH_COMBO3_1280x.jpg?v=1627039250"},
{"name":"Apple Cider Vinegar Shampoo + Stimulating Scalp Massager Brush Apple Cider Vinegar Shampoo + Stimulating Scalp Massager Brush","price":"898","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/combo_1_c46381cf-e661-4f30-9131-bf57bb305e32_1280x.jpg?v=1632821132"},
{"name":" ROSE Ultimate Kit","price":"1347","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/rose_1024_1280x.jpg?v=1626442702"},
{"name":"Mango Pulp Ultimate Hair Care Combo Kit (Shampoo + Conditioner + Hair Mask) Net Vol. 800 ml","price":"1397","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/MangoCombo1024x1024_1280x.jpg?v=1626442700"},
{"name":"Kids Wonder Woman Combo 2 kit (3 in 1 Wash + Body Lotion) - Net Vol. 600 ml","price":"898","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_WONDERWOMAN_COMBO1_1280x.jpg?v=1627037906"},
{"name":"Kids Batman Combo 3 kit (3 in 1 Wash + Body Lotion + Face Wash) - Net Vol. 700 ml","price":"1247","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_BATMAN_COMBO3_1280x.jpg?v=1627044871"},
{"name":"Kids Aquaman Combo 3 kit (3 in 1 Wash + Body Lotion + Face Wash) - Net Vol. 700 ml","price":"1247","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_AQUAMAN_COMBO3_1280x.jpg?v=1627038028"},
{"name":"Aloe Vera Face Wash + Hyaluronic Acid Moisturising Face Serum - Net Vol. 130 ml","price":"948","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/1024_1_2118054c-8b6b-44ca-ba0b-4ed404ac16ba_1280x.jpg?v=1629362719"},
{"name":"Kids Red Speedster Combo 2 kit (3 in 1 Wash + Body Lotion) - Net Vol. 600 ml","price":"898","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_FLASH_COMBO1_1280x.jpg?v=1627037927"},
{"name":"Kids Superman Combo 3 kit (3 in 1 Wash + Body Lotion + Face Wash) - Net Vol. 700 ml","price":"1197","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/KIDS_SUPERMAN_COMBO3_1280x.jpg?v=1627039131"},
{"name":"Coconut Combo 3 kit (Face Wash + Face Cream + Micellar Water) - Net Vol. 400 ml","price":"1212","ratings":4.5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/comob_2-front_1280x.jpg?v=1637843952"},
{"name":"Ultimate Green Tea & Tea Tree Anti Dandruff Tree 5 Kit - Net Vol - 900 ml","price":"1895","ratings":5,"image":"https://cdn.shopify.com/s/files/1/1375/4957/products/ULTIMATE_GT_COMBO1_1280x.jpg?v=1627038211"}
];

    var hairDiv = document.getElementById("hairDiv");

    var cartArr = JSON.parse(localStorage.getItem('cartArr')) || [];

    function appendProduct(wowProducts) {
      hairDiv.innerHTML = null;
      wowProducts.forEach(function (elem) {
        let image = document.createElement("img");
        image.src = elem.image;
    
        let name = document.createElement("p");
        name.innerText = elem.name;
    
        let price = document.createElement("p");
        price.innerText = "â‚¹" + elem.price;
    
        let ratings = document.createElement("p");
        ratings.innerText = elem.ratings;
    
        var div1 = document.createElement("div");
        div1.setAttribute("class", "Stars");
        div1.style = `--rating: ${elem.ratings};`;
    
        var ratingdiv = document.createElement("div");
        ratingdiv.setAttribute("id", "ratingdiv");
        ratingdiv.append(ratings, div1);
    
        let cartbtn = document.createElement("button");
        cartbtn.innerText = "Add to cart";
        cartbtn.setAttribute("id", "cartbtn");
    
        cartbtn.addEventListener("click", function (event) {
          event.preventDefault();
          cartArr.push(elem);
          localStorage.setItem("cartArr", JSON.stringify(cartArr));
          console.log(cartArr);
          alert("Product added to the cart!");
        })
    
        let box = document.createElement("div");
        box.append(image, name, price, ratingdiv, cartbtn);
        hairDiv.append(box);
      });
    }
    appendProduct(wowProducts);


        document.querySelector("#sorter").addEventListener("click", sortByPrice);
        function sortByPrice() {
            wowProducts.map(function (elem) {
                var sorting = document.querySelector("#sorter").value;
                console.log(sorting)
                if (sorting == "l2h") {
                    wowProducts.sort(function (a, b) { return a.price - b.price })
                    appendProduct(wowProducts)
                }
                else if (sorting == "h2l") {
                    wowProducts.sort(function (a, b) { return b.price - a.price })
                    appendProduct(wowProducts)
                }
            else if (sorting == "rl2h") {
                wowProducts.sort(function (a, b) { return a.ratings - b.ratings })
                appendProduct(wowProducts)
            }
            else if (sorting == "rh2l") {
                wowProducts.sort(function (a, b) { return b.ratings - a.ratings })
                appendProduct(wowProducts)
            }
            else if (sorting == "a2z") {
                function SortArray(x, y) {
                    if (x.name < y.name) { return -1; }
                    if (x.name > y.name) { return 1; }
                    return 0;
                }
                var s = wowProducts.sort(SortArray)
                appendProduct(s)
            }
            else if (sorting == "z2a") {
                function SortArray(x, y) {
                    if (x.name > y.name) { return -1; }
                    if (x.name < y.name) { return 1; }
                    return 0;
                }
                var sort = wowProducts.sort(SortArray)
                appendProduct(sort)
            }
        })
    }